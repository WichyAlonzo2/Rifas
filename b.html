<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h3 class="fs-3"><span class="count__boletos_sq">109</span></h3>

    <input type="number" id="search" class="form-control search-boletos form-control" placeholder="Escribe un numero" name="maqu">

    <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function() {
            // Capturamos el número en el h3
            let totalRegistro = $('.count__boletos_sq').text();

            // Calculamos la cantidad de dígitos y preparamos la cadena con esa cantidad de ceros
            let ceros = '0'.repeat(totalRegistro.length);

            // Establecemos el valor inicial del input con los ceros y el maxlength
            $('#search').val(ceros).attr('maxlength', totalRegistro.length);

            // Detectamos cuando el usuario escribe en el input
            $('#search').on('input', function() {
                let inputVal = $(this).val();

                // Quitamos ceros de la izquierda mientras el usuario escribe
                let cleanedValue = inputVal.replace(/^0+/, '');

                // Si no se ha ingresado ningún valor, dejamos el input con ceros
                if (cleanedValue === '') {
                    $(this).val('0'.repeat(totalRegistro.length));
                } else {
                    // Mantenemos la longitud correcta del input, añadiendo ceros si es necesario
                    let remainingZeros = totalRegistro.length - cleanedValue.length;
                    let newValue = '0'.repeat(Math.max(remainingZeros, 0)) + cleanedValue;
                    $(this).val(newValue);

                    // Verificamos si el valor actual del input excede el maxlength
                    if ($(this).val().length > totalRegistro.length) {
                        // Cortamos el valor al maxlength permitido
                        $(this).val($(this).val().substring(0, totalRegistro.length));
                    }
                }
            });
        });
    </script>
</body>

</html>